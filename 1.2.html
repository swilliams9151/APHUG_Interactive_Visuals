<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APHG Topic 1.2: Geographic Data</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap');
        body { font-family: 'Inter', sans-serif; }
        
        /* Layer Transitions */
        .map-layer { transition: opacity 0.5s ease; }
        .hidden-layer { opacity: 0; pointer-events: none; }
        
        /* Tech Card Hover */
        .tech-card {
            transition: all 0.2s ease;
        }
        .tech-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        .tech-card.correct {
            background-color: #dcfce7; /* emerald-100 */
            border-color: #10b981;
        }
        .tech-card.wrong {
            background-color: #fee2e2; /* red-100 */
            border-color: #ef4444;
        }

        /* Pulse Animation for Solution */
        .pulse-glow {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { fill-opacity: 0.4; }
            50% { fill-opacity: 0.8; }
            100% { fill-opacity: 0.4; }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-blue-900 text-white p-6 shadow-lg shrink-0">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <div>
                <h1 class="text-3xl font-extrabold">Topic 1.2: Geographic Data</h1>
                <p class="text-blue-200 text-sm mt-1">GIS, GPS, Remote Sensing, and Fieldwork (IMP-1.B)</p>
            </div>
            <div class="hidden md:block text-xs bg-blue-800 px-3 py-1 rounded border border-blue-700">
                Geospatial Technologies
            </div>
        </div>
    </header>

    <main class="flex-1 max-w-6xl mx-auto w-full p-6 space-y-10">

        <!-- SECTION 1: GIS SIMULATOR (The Layer Cake) -->
        <section class="bg-white rounded-2xl shadow-xl overflow-hidden border border-slate-200">
            <div class="p-6 border-b border-slate-100 bg-slate-50 flex flex-col md:flex-row justify-between items-center">
                <div>
                    <h2 class="text-xl font-bold text-blue-900">1. The GIS "Layer Cake"</h2>
                    <p class="text-sm text-slate-600 mt-1">GIS layers data to solve problems. <strong>Task:</strong> Find a safe site for a new school (Flat land, Near road, NOT in flood zone).</p>
                </div>
                <button onclick="analyzeSite()" class="mt-4 md:mt-0 bg-indigo-600 hover:bg-indigo-500 text-white px-6 py-2 rounded-lg font-bold shadow transition flex items-center gap-2">
                    <span>‚öôÔ∏è</span> Run Analysis
                </button>
            </div>

            <div class="grid md:grid-cols-3 h-[400px]">
                
                <!-- Layer Controls -->
                <div class="p-6 bg-slate-50 border-r border-slate-200 flex flex-col gap-4">
                    <h3 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2">Toggle Layers</h3>
                    
                    <label class="flex items-center gap-3 p-3 bg-white rounded-lg border border-slate-200 cursor-pointer hover:bg-blue-50 transition">
                        <input type="checkbox" id="chk-base" checked onclick="toggleLayer('base')" class="w-5 h-5 text-blue-600 rounded focus:ring-blue-500">
                        <div>
                            <div class="font-bold text-sm text-slate-700">1. Base Map</div>
                            <div class="text-[10px] text-slate-500">Physical Terrain / Elevation</div>
                        </div>
                    </label>

                    <label class="flex items-center gap-3 p-3 bg-white rounded-lg border border-slate-200 cursor-pointer hover:bg-blue-50 transition">
                        <input type="checkbox" id="chk-infra" onclick="toggleLayer('infra')" class="w-5 h-5 text-blue-600 rounded focus:ring-blue-500">
                        <div>
                            <div class="font-bold text-sm text-slate-700">2. Infrastructure</div>
                            <div class="text-[10px] text-slate-500">Roads & Highways</div>
                        </div>
                    </label>

                    <label class="flex items-center gap-3 p-3 bg-white rounded-lg border border-slate-200 cursor-pointer hover:bg-blue-50 transition">
                        <input type="checkbox" id="chk-hazard" onclick="toggleLayer('hazard')" class="w-5 h-5 text-blue-600 rounded focus:ring-blue-500">
                        <div>
                            <div class="font-bold text-sm text-slate-700">3. Hazard Data</div>
                            <div class="text-[10px] text-slate-500">100-Year Flood Zones</div>
                        </div>
                    </label>

                    <div id="gis-result" class="mt-auto p-3 bg-emerald-100 text-emerald-800 text-xs font-bold rounded border border-emerald-200 text-center hidden">
                        Site Identified!
                    </div>
                </div>

                <!-- Map Visualizer -->
                <div class="md:col-span-2 relative bg-slate-200 overflow-hidden">
                    
                    <!-- Layer 1: Base Map (Terrain) -->
                    <svg id="layer-base" class="map-layer absolute inset-0 w-full h-full" viewBox="0 0 600 400">
                        <!-- Flat Land (Green) -->
                        <rect width="600" height="400" fill="#d1fae5" />
                        <!-- Mountains (Grey) Top Right -->
                        <path d="M 400 0 L 600 0 L 600 200 Z" fill="#94a3b8" />
                        <text x="520" y="60" fill="white" font-size="10" font-weight="bold">Steep Terrain</text>
                        <!-- River (Blue) Bottom -->
                        <path d="M 0 350 Q 300 300 600 350 L 600 400 L 0 400 Z" fill="#3b82f6" />
                    </svg>

                    <!-- Layer 2: Infrastructure (Roads) -->
                    <svg id="layer-infra" class="map-layer hidden-layer absolute inset-0 w-full h-full" viewBox="0 0 600 400">
                        <!-- Highway -->
                        <line x1="0" y1="100" x2="600" y2="300" stroke="#1e293b" stroke-width="8" />
                        <line x1="0" y1="100" x2="600" y2="300" stroke="#fbbf24" stroke-width="2" stroke-dasharray="10,5" />
                        <!-- Secondary Road -->
                        <line x1="200" y1="160" x2="200" y2="400" stroke="#475569" stroke-width="6" />
                    </svg>

                    <!-- Layer 3: Hazards (Flood Zone) -->
                    <svg id="layer-hazard" class="map-layer hidden-layer absolute inset-0 w-full h-full" viewBox="0 0 600 400">
                        <!-- Flood Zone near river -->
                        <path d="M 0 280 Q 300 230 600 280 L 600 400 L 0 400 Z" fill="#3b82f6" fill-opacity="0.4" stroke="#1d4ed8" stroke-width="2" stroke-dasharray="5,5" />
                        <text x="300" y="350" text-anchor="middle" fill="#1e3a8a" font-weight="bold" font-size="12">HIGH FLOOD RISK</text>
                    </svg>

                    <!-- Analysis Result (Hidden) -->
                    <svg id="layer-solution" class="map-layer hidden-layer absolute inset-0 w-full h-full" viewBox="0 0 600 400">
                        <!-- Optimal Site: Flat (not mtn), Near Road, Not Flooded -->
                        <!-- Location: Approx 150, 120 -->
                        <circle cx="150" cy="120" r="30" fill="#10b981" class="pulse-glow" />
                        <text x="150" y="125" text-anchor="middle" fill="white" font-weight="bold" font-size="10">OPTIMAL SITE</text>
                        <line x1="150" y1="120" x2="80" y2="125" stroke="#10b981" stroke-width="2" />
                        <text x="20" y="130" fill="#065f46" font-size="10" font-weight="bold">Flat, Accessible, Dry</text>
                    </svg>

                </div>
            </div>
        </section>

        <!-- SECTION 2: TECH IDENTIFIER (Scenarios) -->
        <section class="bg-white rounded-2xl shadow-xl p-8 border border-slate-200">
            <div class="mb-6">
                <h2 class="text-xl font-bold text-slate-800">2. Which Tech Do I Use?</h2>
                <p class="text-sm text-slate-500">Match the geographic task to the correct technology.</p>
            </div>

            <div class="flex flex-col md:flex-row gap-8 items-center">
                
                <!-- Scenario Text -->
                <div class="flex-1 bg-slate-100 p-6 rounded-xl border border-slate-200 w-full text-center">
                    <div class="text-xs font-bold text-slate-400 uppercase mb-2">Current Task</div>
                    <h3 id="scenario-text" class="text-xl font-serif italic text-slate-800 mb-4">"Monitoring the loss of Amazon rainforest over 20 years."</h3>
                    <div id="feedback-msg" class="h-6 text-sm font-bold text-emerald-600"></div>
                </div>

                <!-- Tech Choices -->
                <div class="flex-1 grid grid-cols-1 gap-3 w-full">
                    <button onclick="checkTech('gis')" class="tech-card w-full p-4 rounded-lg border border-slate-200 bg-white text-left">
                        <span class="font-bold text-blue-600">GIS</span> <span class="text-xs text-slate-500">(Geographic Information System)</span>
                        <p class="text-[10px] text-slate-400 mt-1">Layering & Analysis</p>
                    </button>
                    <button onclick="checkTech('gps')" class="tech-card w-full p-4 rounded-lg border border-slate-200 bg-white text-left">
                        <span class="font-bold text-blue-600">GPS</span> <span class="text-xs text-slate-500">(Satellite Navigation)</span>
                        <p class="text-[10px] text-slate-400 mt-1">Exact Location & Navigation</p>
                    </button>
                    <button onclick="checkTech('remote')" class="tech-card w-full p-4 rounded-lg border border-slate-200 bg-white text-left">
                        <span class="font-bold text-blue-600">Remote Sensing</span> <span class="text-xs text-slate-500">(Satellite Imagery)</span>
                        <p class="text-[10px] text-slate-400 mt-1">Scanning from a distance (Pixels)</p>
                    </button>
                </div>

            </div>
        </section>

        <!-- SECTION 3: DATA TYPES (Quantitative vs Qualitative) -->
        <section>
            <h2 class="text-2xl font-bold text-slate-800 mb-6 pl-4 border-l-4 border-indigo-500">3. Types of Data</h2>
            <div class="grid md:grid-cols-2 gap-6">
                
                <!-- Quantitative -->
                <div class="bg-white p-6 rounded-xl shadow border border-indigo-100">
                    <div class="flex items-center gap-3 mb-3">
                        <div class="text-3xl">üìä</div>
                        <div>
                            <h3 class="font-bold text-indigo-900">Quantitative Data</h3>
                            <p class="text-xs text-indigo-500 font-bold uppercase">Numbers & Hard Facts</p>
                        </div>
                    </div>
                    <ul class="text-sm text-slate-600 list-disc pl-5 space-y-1">
                        <li><strong>Census Data:</strong> "The population of Chicago is 2.7 million."</li>
                        <li><strong>Statistics:</strong> Income, Age, Life Expectancy.</li>
                        <li>Used for: Determining representation, funding, and broad patterns.</li>
                    </ul>
                </div>

                <!-- Qualitative -->
                <div class="bg-white p-6 rounded-xl shadow border border-emerald-100">
                    <div class="flex items-center gap-3 mb-3">
                        <div class="text-3xl">üìù</div>
                        <div>
                            <h3 class="font-bold text-emerald-900">Qualitative Data</h3>
                            <p class="text-xs text-emerald-500 font-bold uppercase">Opinions & Observations</p>
                        </div>
                    </div>
                    <ul class="text-sm text-slate-600 list-disc pl-5 space-y-1">
                        <li><strong>Field Observations:</strong> "The neighborhood feels safe and has many parks."</li>
                        <li><strong>Interviews:</strong> Asking locals how they feel about a new law.</li>
                        <li><strong>Landscape Analysis:</strong> Taking photos of architecture.</li>
                    </ul>
                </div>

            </div>
        </section>

    </main>

    <script>
        // --- GIS SIMULATOR LOGIC ---
        function toggleLayer(id) {
            const checkbox = document.getElementById(`chk-${id}`);
            const layer = document.getElementById(`layer-${id}`);
            
            if (checkbox.checked) {
                layer.classList.remove('hidden-layer');
            } else {
                layer.classList.add('hidden-layer');
            }
            
            // Hide result if layers change
            document.getElementById('layer-solution').classList.add('hidden-layer');
            document.getElementById('gis-result').classList.add('hidden');
        }

        function analyzeSite() {
            // Check if all layers are active
            const base = document.getElementById('chk-base').checked;
            const infra = document.getElementById('chk-infra').checked;
            const hazard = document.getElementById('chk-hazard').checked;

            if (base && infra && hazard) {
                document.getElementById('layer-solution').classList.remove('hidden-layer');
                document.getElementById('gis-result').classList.remove('hidden');
                document.getElementById('gis-result').innerText = "Optimal Site Found!";
                document.getElementById('gis-result').className = "mt-auto p-3 bg-emerald-100 text-emerald-800 text-xs font-bold rounded border border-emerald-200 text-center";
            } else {
                alert("Please turn on ALL layers to run the analysis. GIS needs data to work!");
            }
        }

        // --- TECH SCENARIO LOGIC ---
        const scenarios = [
            { text: "Monitoring the loss of Amazon rainforest over 20 years.", type: "remote" },
            { text: "Finding the fastest route to the nearest hospital.", type: "gps" },
            { text: "Overlaying census data with crime rates to find patterns.", type: "gis" },
            { text: "Tracking the path of a hurricane from space.", type: "remote" },
            { text: "Determining the best location for a new Walmart.", type: "gis" }
        ];
        let currentScenIdx = 0;

        function checkTech(choice) {
            const current = scenarios[currentScenIdx];
            const feedback = document.getElementById('feedback-msg');
            
            // Reset colors
            document.querySelectorAll('.tech-card').forEach(c => c.className = "tech-card w-full p-4 rounded-lg border border-slate-200 bg-white text-left");

            if (choice === current.type) {
                feedback.innerText = "Correct!";
                feedback.className = "h-6 text-sm font-bold text-emerald-600 animate-bounce";
                
                // Next Scenario
                setTimeout(() => {
                    currentScenIdx = (currentScenIdx + 1) % scenarios.length;
                    document.getElementById('scenario-text').innerText = `"${scenarios[currentScenIdx].text}"`;
                    feedback.innerText = "";
                }, 1000);
            } else {
                feedback.innerText = "Try again.";
                feedback.className = "h-6 text-sm font-bold text-red-500";
            }
        }

    </script>
</body>
</html>
